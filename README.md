# 中文 Fortune 语料库

![License](https://img.shields.io/badge/license-MIT-green.svg)
![Language](https://img.shields.io/badge/language-Chinese-blue.svg)
![Dependency](https://img.shields.io/badge/dependency-fortune-orange.svg)
![Culture](https://img.shields.io/badge/culture-Chinese%20Traditional-red.svg)


## 项目简介：让终端成为中文传统文化的传播载体
传统 `fortune` 工具长期以英文语录、格言为核心内容，中文场景下缺乏能传递中华优秀传统文化的语料库——这正是本项目的核心价值所在。

我们基于 **[chinese-poetry](https://github.com/chinese-poetry/chinese-poetry)**（最全中华古诗词数据库）及经典典籍文本，筛选整理出传播度广、文学价值高的内容，打造了这套 **中文 Fortune 语料库**。从此，你在终端输入 `fortune`，不再是随机的英文句子，而是可能遇见李白的豪情、苏轼的豁达、纳兰性德的深情，或是《论语》的智慧、《诗经》的风雅，让日常终端操作，变成与中华经典对话的轻量文化体验。

语料库覆盖 **9大核心经典品类**，从唐诗宋词到诸子经典，从五代花间到元代戏曲，满足不同文化偏好：
- 全唐诗（quantangshi）：5.5万首唐诗中精选李白、杜甫、王维等名家经典，尽显盛唐气象
- 全宋诗（quansongshi）：26万首宋诗中筛选苏轼、陆游、王安石等代表作品，兼具理趣与意境
- 全宋词（quansongci）：2.1万首宋词中收录柳永、李清照、辛弃疾等词人佳作，婉约豪放皆备
- 花间集（huajianji）：晚唐五代花间词派经典合集，温庭筠、韦庄等名家之作，秾丽婉约，开启词坛新风
- 南唐二主词（nantang2zhu）：南唐中主李璟、后主李煜的传世词篇，亡国之思与家国情怀交织，字字泣血
- 纳兰性德词（nalanxingde）：清代著名词人纳兰性德的词作精华，“清代第一词人”的哀感顽艳与深情婉转
- 元曲（yuanqu）：元代戏曲文学巅峰之作，关汉卿、马致远、白朴等大家名篇，兼具文学性与口语化趣味
- 诗经（shijing）：中国最早的诗歌总集，收录《关雎》《蒹葭》《伐檀》等305篇，涵盖风、雅、颂，是中华文学的源头
- 论语（lunyu）：儒家经典，孔子及其弟子言行录，“学而时习之”“己所不欲勿施于人”等名句，蕴含千年处世智慧与道德准则


## 前提条件
使用前需确保系统已安装以下工具（适配主流操作系统，安装命令清晰可查）：

| 工具       | 用途                     | 安装命令（示例）                  |
|------------|--------------------------|-----------------------------------|
| `fortune`  | 终端随机语录核心工具（基础依赖）     | Ubuntu: `sudo apt install fortune` <br> macOS: `brew install fortune` |
| `git`      | 克隆仓库代码（获取语料库）             | Ubuntu: `sudo apt install git` <br> macOS: `brew install git` |
| `opencc`   | 简繁转换（精准搜索诗词需用，因语料为繁体） | Ubuntu: `sudo apt install opencc` <br> macOS: `brew install opencc` |


## 快速安装
本语料库无需编译，仅需3步将语料文件接入系统 `fortune` 环境，即刻启用中文文化模式：

1. **克隆仓库**  
   先将本仓库拉取到本地（请替换 `<your-repo-url>` 为实际仓库地址）：
   ```bash
   git clone <your-repo-url>
   cd <repo-directory>  # 进入克隆后的仓库根目录
   ```

2. **确认系统目录**  
   部分轻量系统可能缺少 `fortune` 默认数据目录，先创建（若已存在则跳过）：
   ```bash
   sudo mkdir -p /usr/share/games/fortunes
   ```

3. **复制语料文件**  
   将筛选好的9类语料文件（`fortune_Chinese/100_fortune_files/` 目录下）复制到系统目录：
   ```bash
   sudo cp ./fortune_Chinese/100_fortune_files/* /usr/share/games/fortunes
   ```


## 详细使用指南
### 1. 基础使用：随机邂逅经典
无需复杂参数，输入 `fortune` 即可随机获取一首诗、一阕词、一段元曲或一句《论语》，让终端瞬间充满文化气息：
```bash
$ fortune
《送元二使安西》
        作者：王维
渭城朝雨浥轻尘，客舍青青柳色新。
劝君更尽一杯酒，西出阳关无故人。

%
```

### 2. 精准搜索：凭只言片语找完整作品
语料库中诗词均为**繁体字**（还原古籍原貌），若已知简体关键词（如“朝辞白帝彩云间”），可通过 `opencc` 转码后精准搜索：
```bash
# 语法：fortune -m $(echo "简体关键词" | opencc)
$ fortune -m $(echo "朝辞白帝彩云间" | opencc)
(quantangshi)
%
《早發白帝城》
        作者：李白
朝辭白帝彩雲間，千里江陵一日還。
兩岸猨聲啼不盡，輕舟已過萬重山。

%
```

#### 搜索小贴士：
- 若未找到结果，可尝试直接输入繁体关键词（如 `fortune -m "朝辭白帝彩雲間"`）
- 本库已覆盖95%以上“普通人听过见过”的经典内容，若仍缺失，欢迎提交Issue补充

### 3. 指定分类：聚焦某类文化内容
想专注于某一品类（如只读纳兰性德词、只看元曲），可通过 `-e` 参数指定语料文件名（无需后缀）：

| 文化品类         | 命令                          | 示例输出（片段）                 |
|------------------|-------------------------------|----------------------------------|
| 仅看全唐诗       | `fortune -e quantangshi`      | 《送潘秀才之舒州》（皎然）：楚水清風生，揚舲泛月行 |
| 仅读全宋词       | `fortune -e quansongci`       | 《最高楼》（辛弃疾）：金闺老，眉寿正如川 |
| 仅品花间集       | `fortune -e huajianji`        | 《菩萨蛮》（温庭筠）：小山重叠金明灭，鬓云欲度香腮雪 |
| 仅赏纳兰性德词   | `fortune -e nalanxingde`      | 《浣溪沙》（纳兰性德）：谁念西风独自凉？萧萧黄叶闭疏窗 |
| 仅览《论语》     | `fortune -e lunyu`            | 子曰：“学而时习之，不亦说乎？有朋自远方来，不亦乐乎？” |

> 提示：进入 `fortune_Chinese/100_fortune_files/` 目录，执行 `ls` 可查看所有9类语料的完整文件名。


## 语料库说明
### 数据来源与筛选标准
- **核心数据源**：开源项目 **[chinese-poetry](https://github.com/chinese-poetry/chinese-poetry)**（涵盖1.4万诗人、30万+诗词、1500+词人的权威数据库）及《论语》等经典典籍文本
- **筛选原则**：
  1. 优先保留**知名度高、流传广**的作品（如李白《将进酒》、李煜《虞美人》、《论语》核心章句）
  2. 剔除内容晦涩、传播度低的小众作品，避免“查无此人、读不懂意”的体验
  3. 每篇作品必含**标题、作者（典籍类标注“出处”）、完整文本**，格式统一，确保阅读体验

### 为何选择繁体语料？
- 还原古籍原文风貌，避免简体字对传统文学表达的损耗（如“雲”与“云”、“辭”与“辞”、“風”与“风”的语义差异）
- 兼容中文文化圈的通用阅读习惯，方便港澳台及海外中文用户使用


## 语料库制作流程（可复用扩展）
若你想基于其他中文数据源（如明清小品、近代名言、成语故事）扩展本语料库，可参考以下标准化流程：

1. **数据筛选**  
   从目标数据源（如 chinese-poetry 子集、自定义典籍文本）中，按“传播度+价值感”筛选内容，整理为 JSON 格式（参考 chinese-poetry 数据结构，含“标题、作者、内容”字段）。

2. **解析与格式化**  
   使用仓库 `000_json2fortune_shells/` 目录下的 Shell 脚本，完成自动化处理：
   - 通过 `fx` 工具（轻量 JSON 解析器）提取核心字段，剔除冗余信息
   - 自动添加格式高亮（如作者/出处缩进、标题居中逻辑），适配 `fortune` 终端输出风格
   - 生成 `fortune` 标准格式文件（含 `.dat` 索引文件和 `.u8` 原文文件，确保中文编码兼容）

3. **接入与验证**  
   将生成的文件放入 `100_fortune_files/` 目录，按“快速安装”步骤复制到系统目录，执行 `fortune -e 新文件名` 验证输出效果。


## 常见问题（FAQ）
1. **执行 `fortune` 无输出？**  
   - 排查1：语料文件是否完整复制到 `/usr/share/games/fortunes`（可通过 `ls /usr/share/games/fortunes | grep nalanxingde` 验证某类文件是否存在）
   - 排查2：`fortune` 工具是否正常安装（执行 `fortune --version` 查看版本，无输出则需重新安装）

2. **`opencc` 转码报错？**  
   - 解决方案1：确认 `opencc` 安装状态（执行 `opencc --version`，无输出则按“前提条件”补装）
   - 解决方案2：手动将关键词转为繁体搜索（如搜索纳兰性德词“谁念西风独自凉”，可输入 `fortune -m "誰念西風獨自涼"`）

3. **能否自定义语料（如公司文化格言、个人读书笔记）？**  
   - 完全可以！只需按 `fortune` 格式规则整理文本：
     1. 每段内容独立成块，块与块之间用 `%` 分隔（如一条格言为一个块）
     2. 将文件保存为 `my_corpus`（无后缀），放入 `/usr/share/games/fortunes` 目录
     3. 执行 `strfile my_corpus my_corpus.dat` 生成索引文件，即可用 `fortune -e my_corpus` 调用自定义内容


## 项目价值与愿景
- **填补空白**：打破传统 `fortune` 工具“英文内容为主、中文文化缺失”的局限，为中文终端用户打造专属文化语料库
- **轻量传播**：无需额外APP或平台，在SSH登录、脚本执行间隙、日常终端操作中，自然接触中华经典，实现“碎片化文化浸润”
- **品类全面**：9大核心品类覆盖从先秦到清代的经典文学，从诗歌到散文、戏曲，让传统文化在终端中“活”起来
- **开源共建**：欢迎所有热爱中文文化的开发者参与，共同扩展语料品类（如明清小说选段、成语故事、诗词注解），让传统文化以更贴近现代生活的方式传承

## 致谢
特别感谢 **[chinese-poetry](https://github.com/chinese-poetry/chinese-poetry)** 项目团队，其开源的高质量古诗词数据库，为全唐诗、全宋诗、全宋词等品类的构建提供了核心基础；同时感谢历代典籍整理者，让《论语》《诗经》等经典得以流传，成为本项目的文化根基。

若你有优化建议、语料补充需求或使用问题，欢迎提交 Issue 或 Pull Request，让我们一起让中文传统文化在终端世界里焕发生机！
